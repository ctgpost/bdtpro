import{r as u,j as e,F as Ce,b5 as ft,a1 as jt,bw as Nt,bt as yt,aV as ie,x as z,E as I,X as Pe,bm as Te,bx as bt,b2 as vt,b1 as Dt,t as _t,n as le,bd as oe,aW as ke,bu as Se,a_ as wt,aX as At,ao as Ct,s as Pt}from"./chunk-BfPIZJcL.js";import{a as Tt,$ as kt,a0 as St,B as g,a1 as Ft,a2 as Fe,D as Re,w as Rt,x as Ee,y as Be,z as We,A as Et,T as Ue,d as $e,e as U,f as $,L as l,I as h,n as Bt,C as de,c as ce,S as Me,j as Xe,k as Le,l as qe,m as k,g as Ge,h as Oe,i as Ve,p as ze,q as Ie,r as H,s as j,t as He,v as N,b as Wt}from"./chunk-B3_5kBca.js";import{a as A,v as Ze}from"./chunk-Dhk8SyyT.js";import{U as Ut}from"./chunk-ChWyQnE6.js";import{m as Z}from"./chunk-DakqyWim.js";function Vt(){const{toast:p}=Tt(),[y,me]=u.useState("with-transport"),[Ye,w]=u.useState(!1),[Je,Y]=u.useState(!1),[s,ue]=u.useState(null),[$t,Mt]=u.useState(null),[C,pe]=u.useState(""),[o,b]=u.useState({passengerName:"",pnr:"",passportNumber:"",flightAirlineName:"",departureDate:"",returnDate:"",approvedBy:"",referenceAgency:"",emergencyFlightContact:"",passengerMobile:""}),[d,v]=u.useState({flightDepartureDate:"",returnDate:"",passengerName:"",passportNumber:"",entryRecordedBy:"",totalAmount:0,amountPaid:0,remainingAmount:0,lastPaymentDate:"",remarks:""}),[Ke,he]=u.useState([]),[Qe,ge]=u.useState([]),[M,f]=u.useState(!1),[n,S]=u.useState({}),[J,O]=u.useState([]),[et,F]=u.useState(!1),[D,K]=u.useState(null),[X,Q]=u.useState(!1),[L,ee]=u.useState(!1),[xe,te]=u.useState(null),[fe,ae]=u.useState(null),[q,je]=u.useState(""),[G,Ne]=u.useState("all"),[R,ye]=u.useState("all"),[E,be]=u.useState(new Set),[tt,ve]=u.useState(!1);u.useEffect(()=>{T()},[]),u.useEffect(()=>{const t=d.totalAmount-d.amountPaid;v(a=>({...a,remainingAmount:t>=0?t:0}))},[d.totalAmount,d.amountPaid]);const at=async(t,a,r)=>{if(!(!a||!r))try{const c=await A.getAvailableGroupTickets(t,a,r);O(c),F(c.length>0)}catch(c){console.error("Error checking available group tickets:",c),O([]),F(!1)}},st=t=>{if(K(t),y==="with-transport"){const a=rt(t);b(r=>({...r,flightAirlineName:t.departure_airline||r.flightAirlineName,departureDate:t.departure_date,returnDate:t.return_date,pnr:a,referenceAgency:t.agent_name||r.referenceAgency}))}else v(a=>({...a,flightDepartureDate:t.departure_date,returnDate:t.return_date}));F(!1),p({title:"Auto-populated from Group Ticket",description:`ফ্লাইট তথ্য অটো ফিল হয়েছে: ${t.group_name} (${t.remaining_tickets} টিকেট বাকি)`})},rt=t=>{const a=t.departure_flight_number||"GRP",r=Date.now().toString().slice(-6),c=Math.random().toString(36).substring(2,4).toUpperCase();return`${a}${r}${c}`};u.useEffect(()=>{y==="with-transport"&&o.departureDate&&o.returnDate&&at("with-transport",o.departureDate,o.returnDate)},[o.departureDate,o.returnDate,y]);const T=async()=>{try{f(!0);const[t,a]=await Promise.all([A.getUmrahWithTransport(),A.getUmrahWithoutTransport()]);he(t||[]),ge(a||[])}catch(t){console.error("Error loading records:",t),p({title:"Error",description:"Failed to load records",variant:"destructive"})}finally{f(!1)}},De=t=>{const a={};if(t.passengerName?.trim()?t.passengerName.trim().length<2?a.passengerName="Name must be at least 2 characters":/^[a-zA-Z\s.'-]+$/.test(t.passengerName)||(a.passengerName="Name contains invalid characters"):a.passengerName="Passenger name is required",t.pnr?.trim()?t.pnr.trim().length<5&&(a.pnr="PNR must be at least 5 characters"):a.pnr="PNR is required",t.passportNumber?.trim()?/^[A-Z0-9]{6,9}$/.test(t.passportNumber.replace(/\s/g,""))||(a.passportNumber="Invalid passport format"):a.passportNumber="Passport number is required",t.flightAirlineName?.trim()||(a.flightAirlineName="Flight/Airline name is required"),!t.departureDate)a.departureDate="Departure date is required";else{const r=new Date(t.departureDate),c=new Date;c.setHours(0,0,0,0),r<c&&(a.departureDate="Cannot be in the past")}if(t.returnDate||(a.returnDate="Return date is required"),t.approvedBy?.trim()||(a.approvedBy="Approved by is required"),t.referenceAgency?.trim()||(a.referenceAgency="Reference agency is required"),t.emergencyFlightContact?.trim()?Ze(t.emergencyFlightContact)||(a.emergencyFlightContact="Invalid phone format (+880XXXXXXXXX)"):a.emergencyFlightContact="Emergency contact is required",t.passengerMobile?.trim()?Ze(t.passengerMobile)||(a.passengerMobile="Invalid phone format (+880XXXXXXXXX)"):a.passengerMobile="Passenger mobile is required",t.departureDate&&t.returnDate){const r=new Date(t.departureDate),c=new Date(t.returnDate);if(c<=r)a.returnDate="Must be after departure date";else{const x=(c.getTime()-r.getTime())/864e5;x<7?a.returnDate="Minimum 7 days required":x>90&&(a.returnDate="Maximum 90 days allowed")}}return a},_e=t=>{const a={};if(t.flightDepartureDate||(a.flightDepartureDate="Departure date is required"),t.returnDate||(a.returnDate="Return date is required"),t.passengerName.trim()||(a.passengerName="Passenger name is required"),t.passportNumber.trim()||(a.passportNumber="Passport number is required"),t.entryRecordedBy.trim()||(a.entryRecordedBy="Entry recorded by is required"),t.totalAmount<=0&&(a.totalAmount="Total amount must be greater than 0"),t.amountPaid<0&&(a.amountPaid="Amount paid cannot be negative"),t.amountPaid>t.totalAmount&&(a.amountPaid="Amount paid cannot exceed total amount"),t.flightDepartureDate&&t.returnDate){const r=new Date(t.flightDepartureDate);new Date(t.returnDate)<=r&&(a.returnDate="Return date must be after departure date")}return a},nt=async t=>{if(t.preventDefault(),X){await ot(t);return}const a=De(o);if(S(a),Object.keys(a).length>0){p({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}try{f(!0);const r={passenger_name:o.passengerName,pnr:o.pnr,passport_number:o.passportNumber,flight_airline_name:o.flightAirlineName,departure_date:o.departureDate,return_date:o.returnDate,approved_by:o.approvedBy,reference_agency:o.referenceAgency,emergency_flight_contact:o.emergencyFlightContact,passenger_mobile:o.passengerMobile,group_ticket_id:D?.id},c=await A.createUmrahWithTransport(r);he(_=>[c,..._]);const x=D?` (১টি টিকেট কাটা হয়েছে ${D.group_name} থেকে)`:"";p({title:"সফল হয়েছে",description:`উমরাহ যাত্রী সফলভাবে যোগ করা হয়েছে${x}`}),w(!1),se(),D&&T()}catch(r){console.error("Umrah with transport creation error:",r),console.log("Form data sent:",apiData),p({title:"Error",description:r instanceof Error?r.message:"Failed to create record",variant:"destructive"})}finally{f(!1)}},it=async t=>{if(t.preventDefault(),L){await mt(t);return}const a=_e(d);if(S(a),Object.keys(a).length>0){p({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}try{f(!0);const r={flight_departure_date:d.flightDepartureDate,return_date:d.returnDate,passenger_name:d.passengerName,passport_number:d.passportNumber,entry_recorded_by:d.entryRecordedBy,total_amount:d.totalAmount,amount_paid:d.amountPaid,last_payment_date:d.lastPaymentDate||void 0,remarks:d.remarks||void 0,group_ticket_id:D?.id},c=await A.createUmrahWithoutTransport(r);ge(_=>[c,..._]);const x=D?` (১টি টিকেট কাটা হয়েছে ${D.group_name} থ��কে)`:"";p({title:"সফল হয়েছে",description:`উমরাহ যাত্রী সফলভাবে যোগ করা হয়েছে${x}`}),w(!1),re(),D&&T()}catch(r){console.error("Umrah without transport creation error:",r),console.log("Form data sent:",apiData),p({title:"Error",description:r instanceof Error?r.message:"Failed to create record",variant:"destructive"})}finally{f(!1)}},se=()=>{b({passengerName:"",pnr:"",passportNumber:"",flightAirlineName:"",departureDate:"",returnDate:"",approvedBy:"",referenceAgency:"",emergencyFlightContact:"",passengerMobile:""}),S({}),Q(!1),te(null),K(null),F(!1),O([])},re=()=>{v({flightDepartureDate:"",returnDate:"",passengerName:"",passportNumber:"",entryRecordedBy:"",totalAmount:0,amountPaid:0,remainingAmount:0,lastPaymentDate:"",remarks:""}),S({}),ee(!1),ae(null),K(null),F(!1),O([])},lt=t=>{te(t),b({passengerName:t.passengerName||t.passenger_name||"",pnr:t.pnr||"",passportNumber:t.passportNumber||t.passport_number||"",flightAirlineName:t.flightAirlineName||t.flight_airline_name||"",departureDate:t.departureDate||t.departure_date||"",returnDate:t.returnDate||t.return_date||"",approvedBy:t.approvedBy||t.approved_by||"",referenceAgency:t.referenceAgency||t.reference_agency||"",emergencyFlightContact:t.emergencyFlightContact||t.emergency_flight_contact||"",passengerMobile:t.passengerMobile||t.passenger_mobile||""}),Q(!0),w(!0)},ot=async t=>{t.preventDefault();const a=De(o);if(S(a),Object.keys(a).length>0){p({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}if(xe?.id)try{f(!0);const r={passenger_name:o.passengerName,pnr:o.pnr,passport_number:o.passportNumber,flight_airline_name:o.flightAirlineName,departure_date:o.departureDate,return_date:o.returnDate,approved_by:o.approvedBy,reference_agency:o.referenceAgency,emergency_flight_contact:o.emergencyFlightContact,passenger_mobile:o.passengerMobile};await A.updateUmrahWithTransport(xe.id,r),p({title:"Success",description:"Umrah with transport record updated successfully"}),w(!1),Q(!1),te(null),se(),T()}catch(r){console.error("Umrah with transport update error:",r),p({title:"Error",description:r instanceof Error?r.message:"Failed to update record",variant:"destructive"})}finally{f(!1)}},dt=async t=>{if(confirm("Are you sure you want to delete this Umrah with transport record? This action cannot be undone."))try{f(!0),await A.deleteUmrahWithTransport(t),p({title:"Success",description:"Umrah with transport record deleted successfully"}),T()}catch(a){console.error("Umrah with transport delete error:",a),p({title:"Error",description:a instanceof Error?a.message:"Failed to delete record",variant:"destructive"})}finally{f(!1)}},ct=t=>{ae(t),v({flightDepartureDate:t.flightDepartureDate||t.flight_departure_date||"",returnDate:t.returnDate||t.return_date||"",passengerName:t.passengerName||t.passenger_name||"",passportNumber:t.passportNumber||t.passport_number||"",entryRecordedBy:t.entryRecordedBy||t.entry_recorded_by||"",totalAmount:t.totalAmount||t.total_amount||0,amountPaid:t.amountPaid||t.amount_paid||0,remainingAmount:t.remainingAmount||t.remaining_amount||0,lastPaymentDate:t.lastPaymentDate||t.last_payment_date||"",remarks:t.remarks||""}),ee(!0),w(!0)},mt=async t=>{t.preventDefault();const a=_e(d);if(S(a),Object.keys(a).length>0){p({title:"Validation Error",description:"Please fix the errors in the form",variant:"destructive"});return}if(fe?.id)try{f(!0);const r={flight_departure_date:d.flightDepartureDate,return_date:d.returnDate,passenger_name:d.passengerName,passport_number:d.passportNumber,entry_recorded_by:d.entryRecordedBy,total_amount:d.totalAmount,amount_paid:d.amountPaid,last_payment_date:d.lastPaymentDate||void 0,remarks:d.remarks||void 0};await A.updateUmrahWithoutTransport(fe.id,r),p({title:"Success",description:"Umrah without transport record updated successfully"}),w(!1),ee(!1),ae(null),re(),T()}catch(r){console.error("Umrah without transport update error:",r),p({title:"Error",description:r instanceof Error?r.message:"Failed to update record",variant:"destructive"})}finally{f(!1)}},ut=async t=>{if(confirm("Are you sure you want to delete this Umrah without transport record? This action cannot be undone."))try{f(!0),await A.deleteUmrahWithoutTransport(t),p({title:"Success",description:"Umrah without transport record deleted successfully"}),T()}catch(a){console.error("Umrah without transport delete error:",a),p({title:"Error",description:a instanceof Error?a.message:"Failed to delete record",variant:"destructive"})}finally{f(!1)}},pt=async()=>{if(E.size===0){p({title:"Warning",description:"No records selected for deletion",variant:"destructive"});return}if(confirm(`Are you sure you want to delete ${E.size} selected records? This action cannot be undone.`))try{f(!0);const t=[];let a=0,r=0;B.forEach(c=>{E.has(c.id)&&t.push(A.deleteUmrahWithTransport(c.id).then(()=>a++).catch(x=>{console.error(`Failed to delete with-transport record ${c.id}:`,x),r++}))}),W.forEach(c=>{E.has(c.id)&&t.push(A.deleteUmrahWithoutTransport(c.id).then(()=>a++).catch(x=>{console.error(`Failed to delete without-transport record ${c.id}:`,x),r++}))}),await Promise.all(t),r===0?p({title:"Success",description:`${a} records deleted successfully`}):a>0?p({title:"Partial Success",description:`${a} records deleted, ${r} failed`,variant:"destructive"}):p({title:"Error",description:"Failed to delete any records",variant:"destructive"}),be(new Set),ve(!1),T()}catch(t){console.error("Bulk delete error:",t),p({title:"Error",description:"An unexpected error occurred during bulk deletion",variant:"destructive"})}finally{f(!1)}},we=t=>t?new Date(t).toLocaleDateString("en-US",{weekday:"long"}):"",P=t=>`৳${t.toLocaleString()}`,ht=(t,a)=>{if(t.length===0){p({title:"No Data",description:"No records to export",variant:"destructive"});return}const r=y==="with-transport"?["Passenger Name","PNR","Passport Number","Flight/Airline","Departure Date","Return Date","Approved By","Reference Agency","Emergency Contact","Passenger Mobile","Created Date"]:["Passenger Name","Passport Number","Departure Date","Return Date","Entry Recorded By","Total Amount (BDT)","Amount Paid (BDT)","Remaining Amount (BDT)","Last Payment Date","Remarks","Created Date"],c=t.map(i=>y==="with-transport"?[i.passenger_name||i.passengerName,i.pnr,i.passport_number||i.passportNumber,i.flight_airline_name||i.flightAirlineName,i.departure_date||i.departureDate,i.return_date||i.returnDate,i.approved_by||i.approvedBy,i.reference_agency||i.referenceAgency,i.emergency_flight_contact||i.emergencyFlightContact,i.passenger_mobile||i.passengerMobile,i.created_at||i.createdAt||new Date().toISOString().split("T")[0]]:[i.passenger_name||i.passengerName,i.passport_number||i.passportNumber,i.flight_departure_date||i.flightDepartureDate,i.return_date||i.returnDate,i.entry_recorded_by||i.entryRecordedBy,i.total_amount||i.totalAmount||0,i.amount_paid||i.amountPaid||0,i.remaining_amount||i.remainingAmount||0,i.last_payment_date||i.lastPaymentDate||"",i.remarks||"",i.created_at||i.createdAt||new Date().toISOString().split("T")[0]]),x=[r.join(","),...c.map(i=>i.map(xt=>{const V=String(xt||"");return V.includes(",")||V.includes('"')?`"${V.replace(/"/g,'""')}"`:V}).join(","))].join(`
`),_="\uFEFF",m=new Blob([_+x],{type:"text/csv;charset=utf-8;"}),Ae=window.URL.createObjectURL(m),ne=document.createElement("a");ne.href=Ae,ne.download=`${a}-${new Date().toISOString().split("T")[0]}.csv`,ne.click(),window.URL.revokeObjectURL(Ae),p({title:"Export Complete",description:`${a} exported successfully as CSV (Excel compatible)`})},gt=()=>{const t=y==="with-transport"?B:W;if(t.length===0){p({title:"No Data",description:"No records to print",variant:"destructive"});return}const a=window.open("","_blank");if(!a)return;const r=y==="with-transport"?"Umrah With Transport Packages":"Umrah Without Transport Packages";let c="",x="";y==="with-transport"?(c=`
        <tr>
          <th>Passenger Name</th>
          <th>PNR</th>
          <th>Passport</th>
          <th>Flight/Airline</th>
          <th>Departure</th>
          <th>Return</th>
          <th>Mobile</th>
        </tr>
      `,x=t.map(m=>`
        <tr>
          <td>${m.passenger_name||m.passengerName}</td>
          <td>${m.pnr}</td>
          <td>${m.passport_number||m.passportNumber}</td>
          <td>${m.flight_airline_name||m.flightAirlineName}</td>
          <td>${new Date(m.departure_date||m.departureDate).toLocaleDateString()}</td>
          <td>${new Date(m.return_date||m.returnDate).toLocaleDateString()}</td>
          <td>${m.passenger_mobile||m.passengerMobile}</td>
        </tr>
      `).join("")):(c=`
        <tr>
          <th>Passenger Name</th>
          <th>Passport</th>
          <th>Departure</th>
          <th>Total Amount</th>
          <th>Amount Paid</th>
          <th>Remaining</th>
          <th>Status</th>
        </tr>
      `,x=t.map(m=>`
        <tr>
          <td>${m.passenger_name||m.passengerName}</td>
          <td>${m.passport_number||m.passportNumber}</td>
          <td>${new Date(m.flight_departure_date||m.flightDepartureDate).toLocaleDateString()}</td>
          <td>${P(m.total_amount||m.totalAmount||0)}</td>
          <td>${P(m.amount_paid||m.amountPaid||0)}</td>
          <td>${P(m.remaining_amount||m.remainingAmount||0)}</td>
          <td>${(m.remaining_amount||m.remainingAmount||0)>0?"Pending":"Paid"}</td>
        </tr>
      `).join(""));const _=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>${r}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            h1 { color: #333; text-align: center; margin-bottom: 30px; }
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; font-weight: bold; }
            tr:nth-child(even) { background-color: #f9f9f9; }
            .print-date { text-align: center; margin-top: 20px; color: #666; }
            @media print {
              body { margin: 0; }
              .print-date { position: fixed; bottom: 10px; width: 100%; }
            }
          </style>
        </head>
        <body>
          <h1>${r}</h1>
          <table>
            ${c}
            ${x}
          </table>
          <div class="print-date">
            Generated on: ${new Date().toLocaleString()} | Total Records: ${t.length}
          </div>
        </body>
      </html>
    `;a.document.write(_),a.document.close(),a.focus(),setTimeout(()=>{a.print()},500)},B=Ke.filter(t=>{const a=C===""||(t.passengerName||t.passenger_name||"").toLowerCase().includes(C.toLowerCase())||(t.pnr||"").toLowerCase().includes(C.toLowerCase())||(t.passportNumber||t.passport_number||"").toLowerCase().includes(C.toLowerCase()),r=q===""||(t.departureDate||t.departure_date)===q;return a&&r}),W=Qe.filter(t=>{const a=C===""||(t.passengerName||t.passenger_name||"").toLowerCase().includes(C.toLowerCase())||(t.passportNumber||t.passport_number||"").toLowerCase().includes(C.toLowerCase()),r=q===""||(t.flightDepartureDate||t.flight_departure_date)===q,c=t.remainingAmount||t.remaining_amount||0,x=G===""||G==="all"||G==="paid"&&c===0||G==="pending"&&c>0,_=t.totalAmount||t.total_amount||0,m=R===""||R==="all"||R==="low"&&_<=5e4||R==="medium"&&_>5e4&&_<=1e5||R==="high"&&_>1e5;return a&&r&&x&&m});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full animate-glow",children:e.jsx(Ce,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-heading font-bold velvet-text",children:"Umrah Ticket Management"}),e.jsx("p",{className:"text-foreground/70 font-body",children:"Manage Umrah packages with and without transport"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(kt,{children:[e.jsx(St,{asChild:!0,children:e.jsxs(g,{variant:"outline",size:"sm",className:"font-body",children:[e.jsx(ft,{className:"h-4 w-4 mr-2"}),"Export",e.jsx(jt,{className:"h-4 w-4 ml-2"})]})}),e.jsxs(Ft,{align:"end",children:[e.jsxs(Fe,{onClick:()=>ht(y==="with-transport"?B:W,`umrah-${y}`),children:[e.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Export as CSV/Excel"]}),e.jsxs(Fe,{onClick:gt,children:[e.jsx(yt,{className:"h-4 w-4 mr-2"}),"Print Records"]})]})]}),e.jsxs(Re,{open:Ye,onOpenChange:w,children:[e.jsx(Rt,{asChild:!0,children:e.jsxs(g,{className:"velvet-button text-primary-foreground font-body",onClick:()=>{se(),re()},children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Add New Package"]})}),e.jsxs(Ee,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Be,{children:[e.jsx(We,{className:"font-heading",children:X||L?"Edit Umrah Package":"Add New Umrah Package"}),e.jsx(Et,{className:"font-body",children:X||L?"Update package details":"Choose package type and fill in the details"})]}),e.jsxs(Ue,{value:y,onValueChange:t=>me(t),children:[e.jsxs($e,{className:"grid w-full grid-cols-3",children:[e.jsxs(U,{value:"with-transport",className:"font-body",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"With Transport"]}),e.jsxs(U,{value:"without-transport",className:"font-body",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Without Transport"]}),e.jsxs(U,{value:"group-tickets",className:"font-body",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Group Tickets"]})]}),e.jsx($,{value:"with-transport",children:e.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"passengerName",children:"Passenger Name *"}),e.jsx(h,{id:"passengerName",value:o.passengerName,onChange:t=>b(a=>({...a,passengerName:t.target.value})),className:n.passengerName?"border-red-500":""}),n.passengerName&&e.jsx("p",{className:"text-red-500 text-sm",children:n.passengerName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"pnr",children:"PNR *"}),e.jsx(h,{id:"pnr",value:o.pnr,onChange:t=>b(a=>({...a,pnr:t.target.value})),className:n.pnr?"border-red-500":""}),n.pnr&&e.jsx("p",{className:"text-red-500 text-sm",children:n.pnr})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"passportNumber",children:"Passport Number *"}),e.jsx(h,{id:"passportNumber",value:o.passportNumber,onChange:t=>b(a=>({...a,passportNumber:t.target.value})),className:n.passportNumber?"border-red-500":""}),n.passportNumber&&e.jsx("p",{className:"text-red-500 text-sm",children:n.passportNumber})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"flightAirlineName",children:"Flight / Airline Name *"}),e.jsx(h,{id:"flightAirlineName",value:o.flightAirlineName,onChange:t=>b(a=>({...a,flightAirlineName:t.target.value})),className:n.flightAirlineName?"border-red-500":""}),n.flightAirlineName&&e.jsx("p",{className:"text-red-500 text-sm",children:n.flightAirlineName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"departureDate",children:"Departure Date *"}),e.jsx(h,{id:"departureDate",type:"date",value:o.departureDate,onChange:t=>b(a=>({...a,departureDate:t.target.value})),className:n.departureDate?"border-red-500":""}),n.departureDate&&e.jsx("p",{className:"text-red-500 text-sm",children:n.departureDate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"returnDate",children:"Return Date *"}),e.jsx(h,{id:"returnDate",type:"date",value:o.returnDate,onChange:t=>b(a=>({...a,returnDate:t.target.value})),className:n.returnDate?"border-red-500":""}),n.returnDate&&e.jsx("p",{className:"text-red-500 text-sm",children:n.returnDate})]}),et&&J.length>0&&e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900",children:"উপলব্ধ গ্রুপ টিকেট"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["আপনার নির্বাচিত তারিখের জন্য"," ",J.length,"টি গ্রুপ টিকেট পাওয়া গেছে"]})]})]}),e.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(!1),children:e.jsx(Pe,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"space-y-2",children:J.map(t=>e.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${D?.id===t.id?"border-blue-500 bg-blue-100":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>st(t),children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:t.group_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.departure_airline," • ফ্লাইট:"," ",t.departure_flight_number]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["এজেন্ট: ",t.agent_name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[t.remaining_tickets," টিকেট বাকি"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.departure_date," -"," ",t.return_date]})]})]})},t.id))}),D&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-700",children:["✓ নির্বাচিত:"," ",e.jsx("strong",{children:D.group_name}),"(এই যাত্রী যোগের পর"," ",D.remaining_tickets-1," ","টিকেট বাকি থাকবে)"]})})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"approvedBy",children:"Approved By *"}),e.jsx(h,{id:"approvedBy",value:o.approvedBy,onChange:t=>b(a=>({...a,approvedBy:t.target.value})),className:n.approvedBy?"border-red-500":""}),n.approvedBy&&e.jsx("p",{className:"text-red-500 text-sm",children:n.approvedBy})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"referenceAgency",children:"Reference Agency *"}),e.jsx(h,{id:"referenceAgency",value:o.referenceAgency,onChange:t=>b(a=>({...a,referenceAgency:t.target.value})),className:n.referenceAgency?"border-red-500":""}),n.referenceAgency&&e.jsx("p",{className:"text-red-500 text-sm",children:n.referenceAgency})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"emergencyFlightContact",children:"Emergency Flight Contact *"}),e.jsx(h,{id:"emergencyFlightContact",value:o.emergencyFlightContact,onChange:t=>b(a=>({...a,emergencyFlightContact:t.target.value})),placeholder:"+880XXXXXXXXX",className:n.emergencyFlightContact?"border-red-500":""}),n.emergencyFlightContact&&e.jsx("p",{className:"text-red-500 text-sm",children:n.emergencyFlightContact})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"passengerMobile",children:"Passenger Mobile *"}),e.jsx(h,{id:"passengerMobile",value:o.passengerMobile,onChange:t=>b(a=>({...a,passengerMobile:t.target.value})),placeholder:"+880XXXXXXXXX",className:n.passengerMobile?"border-red-500":""}),n.passengerMobile&&e.jsx("p",{className:"text-red-500 text-sm",children:n.passengerMobile})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),e.jsxs(g,{type:"submit",disabled:M,className:"velvet-button",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),M?X?"Updating...":"Saving...":X?"Update Package":"Save Package"]})]})]})}),e.jsx($,{value:"without-transport",children:e.jsxs("form",{onSubmit:it,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"flightDepartureDate",children:"Flight Departure Date *"}),e.jsx(h,{id:"flightDepartureDate",type:"date",value:d.flightDepartureDate,onChange:t=>v(a=>({...a,flightDepartureDate:t.target.value})),className:n.flightDepartureDate?"border-red-500":""}),d.flightDepartureDate&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Day:"," ",we(d.flightDepartureDate)]}),n.flightDepartureDate&&e.jsx("p",{className:"text-red-500 text-sm",children:n.flightDepartureDate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"returnDateWT",children:"Return Date *"}),e.jsx(h,{id:"returnDateWT",type:"date",value:d.returnDate,onChange:t=>v(a=>({...a,returnDate:t.target.value})),className:n.returnDate?"border-red-500":""}),n.returnDate&&e.jsx("p",{className:"text-red-500 text-sm",children:n.returnDate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"passengerNameWT",children:"Passenger Name *"}),e.jsx(h,{id:"passengerNameWT",value:d.passengerName,onChange:t=>v(a=>({...a,passengerName:t.target.value})),className:n.passengerName?"border-red-500":""}),n.passengerName&&e.jsx("p",{className:"text-red-500 text-sm",children:n.passengerName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"passportNumberWT",children:"Passport Number *"}),e.jsx(h,{id:"passportNumberWT",value:d.passportNumber,onChange:t=>v(a=>({...a,passportNumber:t.target.value})),className:n.passportNumber?"border-red-500":""}),n.passportNumber&&e.jsx("p",{className:"text-red-500 text-sm",children:n.passportNumber})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"entryRecordedBy",children:"Entry Recorded By *"}),e.jsx(h,{id:"entryRecordedBy",value:d.entryRecordedBy,onChange:t=>v(a=>({...a,entryRecordedBy:t.target.value})),className:n.entryRecordedBy?"border-red-500":""}),n.entryRecordedBy&&e.jsx("p",{className:"text-red-500 text-sm",children:n.entryRecordedBy})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"totalAmount",children:"Total Amount (৳) *"}),e.jsx(h,{id:"totalAmount",type:"number",min:"0",value:d.totalAmount,onChange:t=>v(a=>({...a,totalAmount:parseFloat(t.target.value)||0})),className:n.totalAmount?"border-red-500":""}),n.totalAmount&&e.jsx("p",{className:"text-red-500 text-sm",children:n.totalAmount})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"amountPaid",children:"Amount Paid (৳) *"}),e.jsx(h,{id:"amountPaid",type:"number",min:"0",value:d.amountPaid,onChange:t=>v(a=>({...a,amountPaid:parseFloat(t.target.value)||0})),className:n.amountPaid?"border-red-500":""}),n.amountPaid&&e.jsx("p",{className:"text-red-500 text-sm",children:n.amountPaid})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Remaining Amount (৳)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-lg font-bold text-primary",children:P(d.remainingAmount)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"lastPaymentDate",children:"Last Payment Date"}),e.jsx(h,{id:"lastPaymentDate",type:"date",value:d.lastPaymentDate,onChange:t=>v(a=>({...a,lastPaymentDate:t.target.value}))})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(l,{htmlFor:"remarks",children:"Remarks / Notes"}),e.jsx(Bt,{id:"remarks",value:d.remarks,onChange:t=>v(a=>({...a,remarks:t.target.value})),rows:3,placeholder:"Any additional notes or remarks..."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),e.jsxs(g,{type:"submit",disabled:M,className:"velvet-button",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),M?L?"Updating...":"Saving...":L?"Update Package":"Save Package"]})]})]})}),e.jsx($,{value:"group-tickets",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-heading font-bold mb-2",children:"Group Ticket Management"}),e.jsx("p",{className:"text-muted-foreground font-body mb-4",children:"গ্রুপ ���িকেট ম্যান��জ��েন্ট নিচের মেইন সেকশনে পাবেন।"})]})})]})]})]})]})]})}),e.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:e.jsx(de,{className:"luxury-card border-0",children:e.jsx(ce,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(vt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(h,{placeholder:"Search by passenger name, PNR, or passport...",value:C,onChange:t=>pe(t.target.value),className:"pl-10"})]})}),e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>{pe(""),je(""),Ne("all"),ye("all")},className:"shrink-0",children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t border-border/50",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium mb-2 block",children:"Departure Date"}),e.jsx(h,{type:"date",value:q,onChange:t=>je(t.target.value),className:"w-full"})]}),y==="without-transport"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium mb-2 block",children:"Payment Status"}),e.jsxs(Me,{value:G,onValueChange:Ne,children:[e.jsx(Xe,{children:e.jsx(Le,{placeholder:"All Status"})}),e.jsxs(qe,{children:[e.jsx(k,{value:"all",children:"All Status"}),e.jsx(k,{value:"paid",children:"Fully Paid"}),e.jsx(k,{value:"pending",children:"Pending Payment"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium mb-2 block",children:"Amount Range"}),e.jsxs(Me,{value:R,onValueChange:ye,children:[e.jsx(Xe,{children:e.jsx(Le,{placeholder:"All Amounts"})}),e.jsxs(qe,{children:[e.jsx(k,{value:"all",children:"All Amounts"}),e.jsx(k,{value:"low",children:"৳0 - ৳50,000"}),e.jsx(k,{value:"medium",children:"৳50,001 - ৳100,000"}),e.jsx(k,{value:"high",children:"৳100,001+"})]})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(g,{variant:"outline",className:"w-full",onClick:T,children:[e.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]})]})})})}),tt&&e.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5 text-blue-600"}),e.jsxs("span",{className:"font-medium text-blue-800",children:[E.size," record",E.size!==1?"s":""," selected"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:"outline",size:"sm",onClick:()=>{be(new Set),ve(!1)},children:"Clear Selection"}),e.jsxs(g,{variant:"destructive",size:"sm",onClick:pt,disabled:M,children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Delete Selected"]})]})]})}),e.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:e.jsxs(Ue,{value:y,onValueChange:t=>me(t),children:[e.jsxs($e,{className:"grid w-full grid-cols-3",children:[e.jsxs(U,{value:"with-transport",className:"font-body",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"With Transport (",B.length,")"]}),e.jsxs(U,{value:"without-transport",className:"font-body",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Without Transport (",W.length,")"]}),e.jsxs(U,{value:"group-tickets",className:"font-body",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Group Tickets"]})]}),e.jsx($,{value:"with-transport",children:e.jsxs(de,{className:"luxury-card border-0",children:[e.jsxs(Ge,{children:[e.jsx(Oe,{className:"font-heading",children:"Umrah With Transport"}),e.jsx(Ve,{className:"font-body",children:"Complete travel packages including flight arrangements"})]}),e.jsx(ce,{children:B.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ze,{children:[e.jsx(Ie,{children:e.jsxs(H,{children:[e.jsx(j,{children:"Passenger Name"}),e.jsx(j,{children:"PNR"}),e.jsx(j,{children:"Passport"}),e.jsx(j,{children:"Flight/Airline"}),e.jsx(j,{children:"Departure"}),e.jsx(j,{children:"Return"}),e.jsx(j,{children:"Mobile"}),e.jsx(j,{children:"Actions"})]})}),e.jsx(He,{children:B.map(t=>e.jsxs(H,{children:[e.jsx(N,{className:"font-medium",children:t.passengerName||t.passenger_name}),e.jsx(N,{children:t.pnr}),e.jsx(N,{children:t.passportNumber||t.passport_number}),e.jsx(N,{children:t.flightAirlineName||t.flight_airline_name}),e.jsx(N,{children:new Date(t.departureDate||t.departure_date).toLocaleDateString()}),e.jsx(N,{children:new Date(t.returnDate||t.return_date).toLocaleDateString()}),e.jsx(N,{children:t.passengerMobile||t.passenger_mobile}),e.jsx(N,{children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(g,{size:"sm",variant:"outline",onClick:()=>{ue(t),Y(!0)},title:"View Details",children:e.jsx(ke,{className:"h-3 w-3"})}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>lt(t),title:"Edit Record",children:e.jsx(Se,{className:"h-3 w-3"})}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>dt(t.id),title:"Delete Record",className:"text-red-600 hover:text-red-700",children:e.jsx(le,{className:"h-3 w-3"})})]})})]},t.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-heading font-bold text-foreground mb-2",children:"No records found"}),e.jsx("p",{className:"text-foreground/70 font-body mb-4",children:C?"No packages match your search criteria":"No Umrah with transport packages have been added yet"}),e.jsxs(g,{onClick:()=>w(!0),className:"velvet-button",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Add First Package"]})]})})]})}),e.jsx($,{value:"without-transport",children:e.jsxs(de,{className:"luxury-card border-0",children:[e.jsxs(Ge,{children:[e.jsx(Oe,{className:"font-heading",children:"Umrah Without Transport"}),e.jsx(Ve,{className:"font-body",children:"Packages without flight arrangements - payment tracking enabled"})]}),e.jsx(ce,{children:W.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ze,{children:[e.jsx(Ie,{children:e.jsxs(H,{children:[e.jsx(j,{children:"Passenger Name"}),e.jsx(j,{children:"Passport"}),e.jsx(j,{children:"Departure"}),e.jsx(j,{children:"Total Amount"}),e.jsx(j,{children:"Amount Paid"}),e.jsx(j,{children:"Remaining"}),e.jsx(j,{children:"Status"}),e.jsx(j,{children:"Actions"})]})}),e.jsx(He,{children:W.map(t=>e.jsxs(H,{children:[e.jsx(N,{className:"font-medium",children:t.passengerName||t.passenger_name}),e.jsx(N,{children:t.passportNumber||t.passport_number}),e.jsxs(N,{children:[new Date(t.flightDepartureDate||t.flight_departure_date).toLocaleDateString(),e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:we(t.flightDepartureDate||t.flight_departure_date)})]}),e.jsx(N,{children:P(t.totalAmount||t.total_amount||0)}),e.jsx(N,{children:P(t.amountPaid||t.amount_paid||0)}),e.jsx(N,{children:e.jsx("span",{className:(t.remainingAmount||t.remaining_amount||0)>0?"text-orange-600 font-bold":"text-green-600 font-bold",children:P(t.remainingAmount||t.remaining_amount||0)})}),e.jsx(N,{children:e.jsx(Wt,{variant:(t.remainingAmount||t.remaining_amount||0)>0?"destructive":"default",children:(t.remainingAmount||t.remaining_amount||0)>0?"Pending":"Paid"})}),e.jsx(N,{children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(g,{size:"sm",variant:"outline",onClick:()=>{ue(t),Y(!0)},title:"View Details",children:e.jsx(ke,{className:"h-3 w-3"})}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>ct(t),title:"Edit Record",children:e.jsx(Se,{className:"h-3 w-3"})}),e.jsx(g,{size:"sm",variant:"outline",onClick:()=>ut(t.id),title:"Delete Record",className:"text-red-600 hover:text-red-700",children:e.jsx(le,{className:"h-3 w-3"})})]})})]},t.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(oe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-heading font-bold text-foreground mb-2",children:"No records found"}),e.jsx("p",{className:"text-foreground/70 font-body mb-4",children:C?"No packages match your search criteria":"No Umrah without transport packages have been added yet"}),e.jsxs(g,{onClick:()=>w(!0),className:"velvet-button",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Add First Package"]})]})})]})}),e.jsx($,{value:"group-tickets",children:e.jsx(Ut,{})})]})}),e.jsx(Re,{open:Je,onOpenChange:Y,children:e.jsxs(Ee,{className:"max-w-2xl",children:[e.jsx(Be,{children:e.jsx(We,{className:"font-heading",children:"Package Details"})}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-full",children:s.pnr?e.jsx(z,{className:"h-5 w-5 text-white"}):e.jsx(oe,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-heading font-bold text-lg",children:s.passengerName||s.passenger_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.pnr?"With Transport Package":"Without Transport Package"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-base flex items-center gap-2",children:[e.jsx(wt,{className:"h-4 w-4"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Passenger Name"}),e.jsx("p",{className:"text-base font-medium",children:s.passengerName||s.passenger_name})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Passport Number"}),e.jsx("p",{className:"text-base",children:s.passportNumber||s.passport_number})]}),s.pnr&&e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"PNR"}),e.jsx("p",{className:"text-base font-mono",children:s.pnr})]}),s.passengerMobile||s.passenger_mobile?e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Mobile"}),e.jsx("p",{className:"text-base",children:s.passengerMobile||s.passenger_mobile})]}):null]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-base flex items-center gap-2",children:[e.jsx(At,{className:"h-4 w-4"}),"Travel Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Departure Date"}),e.jsx("p",{className:"text-base",children:new Date(s.departureDate||s.departure_date||s.flightDepartureDate||s.flight_departure_date).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Return Date"}),e.jsx("p",{className:"text-base",children:new Date(s.returnDate||s.return_date).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.flightAirlineName||s.flight_airline_name?e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Flight/Airline"}),e.jsx("p",{className:"text-base",children:s.flightAirlineName||s.flight_airline_name})]}):null]})]}),(s.totalAmount||s.total_amount)&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-base flex items-center gap-2",children:[e.jsx(Ct,{className:"h-4 w-4"}),"Financial Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Total Amount"}),e.jsx("p",{className:"text-base font-bold text-green-600",children:P(s.totalAmount||s.total_amount)})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Amount Paid"}),e.jsx("p",{className:"text-base font-medium",children:P(s.amountPaid||s.amount_paid||0)})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Remaining Amount"}),e.jsx("p",{className:`text-base font-bold ${(s.remainingAmount||s.remaining_amount||0)>0?"text-orange-600":"text-green-600"}`,children:P(s.remainingAmount||s.remaining_amount||0)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-base flex items-center gap-2",children:[e.jsx(Pt,{className:"h-4 w-4"}),"Additional Information"]}),e.jsxs("div",{className:"space-y-3",children:[s.approvedBy||s.approved_by?e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Approved By"}),e.jsx("p",{className:"text-base",children:s.approvedBy||s.approved_by})]}):null,s.referenceAgency||s.reference_agency?e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Reference Agency"}),e.jsx("p",{className:"text-base",children:s.referenceAgency||s.reference_agency})]}):null,s.entryRecordedBy||s.entry_recorded_by?e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Entry Recorded By"}),e.jsx("p",{className:"text-base",children:s.entryRecordedBy||s.entry_recorded_by})]}):null,s.emergencyFlightContact||s.emergency_flight_contact?e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Emergency Contact"}),e.jsx("p",{className:"text-base",children:s.emergencyFlightContact||s.emergency_flight_contact})]}):null,s.remarks&&e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Remarks"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-md",children:s.remarks})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.createdAt||s.created_at).toLocaleString()})]})]})]})]})]})]})})]})}export{Vt as U};
