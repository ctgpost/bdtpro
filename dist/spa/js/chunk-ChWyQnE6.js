import{r as d,j as e,E as N,b5 as O,aV as G,x as g,b2 as H,b1 as W,aX as J,bs as V,bt as X,bu as Y,bv as K,n as Q}from"./chunk-BfPIZJcL.js";import{a as Z,B as o,D as P,w as ee,I as n,C as te,g as re,h as ae,i as se,c as ie,p as ne,q as le,r as R,s as m,t as ce,v as h,b as oe,x as de,y as ue,z as me,A as he,L as l,n as xe}from"./chunk-B3_5kBca.js";import{a as p}from"./chunk-Dhk8SyyT.js";import{m as C}from"./chunk-DakqyWim.js";function be(){const{toast:c}=Z(),[w,x]=d.useState(!1),[T,U]=d.useState(""),[j,v]=d.useState(!1),[s,i]=d.useState({group_name:"",package_type:"with-transport",departure_date:"",return_date:"",ticket_count:0,total_cost:0,average_cost_per_ticket:0,agent_name:"",agent_contact:"",purchase_notes:"",departure_airline:"",departure_flight_number:"",departure_time:"",departure_route:"",return_airline:"",return_flight_number:"",return_time:"",return_route:""}),[D,$]=d.useState([]),[ge,B]=d.useState([]),[f,F]=d.useState(null);d.useEffect(()=>{_()},[]),d.useEffect(()=>{if(s.ticket_count>0&&s.total_cost>0){const t=Math.round(s.total_cost/s.ticket_count);i(r=>({...r,average_cost_per_ticket:t}))}},[s.ticket_count,s.total_cost]);const _=async()=>{try{v(!0);const[t,r]=await Promise.all([p.getUmrahGroupTicketsByDates("with-transport"),p.getUmrahGroupTickets("with-transport",T)]);$(t||[]),B(r||[])}catch(t){console.error("Error loading group tickets:",t),c({title:"Error",description:"Failed to load group tickets",variant:"destructive"})}finally{v(!1)}},L=async t=>{if(t.preventDefault(),!!q())try{v(!0),f?(await p.updateUmrahGroupTicket(f.id,s),c({title:"Success",description:"Group ticket updated successfully"})):(await p.createUmrahGroupTicket({...s,package_type:"with-transport"}),c({title:"Success",description:"Group ticket created successfully"})),E(),x(!1),_()}catch(r){console.error("Error saving group ticket:",r),c({title:"Error",description:r instanceof Error?r.message:"Failed to save group ticket",variant:"destructive"})}finally{v(!1)}},q=()=>s.group_name.trim()?!s.departure_date||!s.return_date?(c({title:"Error",description:"Both departure and return dates are required",variant:"destructive"}),!1):new Date(s.return_date)<=new Date(s.departure_date)?(c({title:"Error",description:"Return date must be after departure date",variant:"destructive"}),!1):s.ticket_count<=0?(c({title:"Error",description:"Ticket count must be greater than 0",variant:"destructive"}),!1):s.total_cost<=0?(c({title:"Error",description:"Total cost must be greater than 0",variant:"destructive"}),!1):s.agent_name.trim()?!0:(c({title:"Error",description:"Agent name is required",variant:"destructive"}),!1):(c({title:"Error",description:"Group name is required",variant:"destructive"}),!1),E=()=>{i({group_name:"",package_type:"with-transport",departure_date:"",return_date:"",ticket_count:0,total_cost:0,average_cost_per_ticket:0,agent_name:"",agent_contact:"",purchase_notes:"",departure_airline:"",departure_flight_number:"",departure_time:"",departure_route:"",return_airline:"",return_flight_number:"",return_time:"",return_route:""}),F(null)},z=t=>{i(t),F(t),x(!0)},S=async(t,r=!1)=>{const a=groupTickets.find(u=>u.id===t),y=a?a.ticket_count-a.remaining_tickets:0;let k="à¦†à¦ªà¦¨à¦¿ à¦•à¦¿ à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦¯à§‡ à¦à¦‡ à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿ à¦¡à¦¿à¦²à¦¿à¦Ÿ ï¿½ï¿½ï¿½à¦°à¦¤à§‡ à¦šà¦¾à¦¨?";if(y>0&&!r?k=`âš ï¸ à¦¸à¦¤à¦°à§à¦•à¦¤ï¿½ï¿½ï¿½!

à¦à¦‡ à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿà§‡ ${y}à¦œà¦¨ à¦¯à¦¾à¦¤à§à¦°à§€ à¦¨à¦¿à¦¯à§à¦•à§à¦¤ à¦†à¦›à§‡à¥¤

à¦à¦Ÿà¦¿ à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à¦²à§‡ à¦¸à¦•à¦² à¦¯à¦¾à¦¤à§à¦°à§€à¦° assignment à¦®à§à¦›à§‡ à¦¯à¦¾à¦¬à§‡à¥¤

à¦¤à¦¬à§à¦“ à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à¦¤à§‡ à¦šà¦¾à¦¨?`:r&&(k=`ðŸ”´ à¦œà§‹à¦°à¦ªà§‚à¦°à§à¦¬à¦• à¦¡à¦¿à¦²à¦¿à¦Ÿ!

à¦†à¦ªà¦¨à¦¿ ${y}à¦œà¦¨ à¦¯à¦¾à¦¤à§à¦°à§€ à¦¸à¦¹ à¦à¦‡ à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿ à¦®à§à¦›à§‡ à¦«à§‡à¦²à¦¤à§‡ à¦šà¦¾à¦šà§à¦›à§‡à¦¨à¥¤

âš ï¸ à¦à¦‡ à¦•à¦¾à¦œà¦Ÿà¦¿ à¦ªà§‚à¦°ï¿½ï¿½à¦¬à¦¾à¦¬à¦¸à§à¦¥à¦¾à¦¯à¦¼ à¦«à§‡à¦°à¦¾à¦¨à§‹ à¦¯à¦¾à¦¬à§‡ à¦¨à¦¾!

à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦•à¦°à§à¦¨?`),!!confirm(k))try{await p.deleteUmrahGroupTicket(t,r),c({title:"à¦¸à¦«à¦² à¦¹à¦¯ï¿½ï¿½à§‡à¦›à§‡",description:"à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿ à¦¸à¦«à¦²à¦­à¦¾à¦¬à§‡ à¦¡à¦¿à¦²ï¿½ï¿½à¦Ÿ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡"}),_()}catch(u){if(console.error("Error deleting group ticket:",u),u.canForceDelete&&!r){const M=u.details?.passengers?.map(b=>`â€¢ ${b.name} (${b.type==="with-transport"?"PNR: "+b.pnr:"Passport: "+b.passport})`).join(`
`)||"";if(confirm(`âš ï¸ à¦à¦‡ à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿà§‡ ${u.details?.assignedCount||0}à¦Ÿà¦¿ à¦¯à¦¾à¦¤à§à¦°à§€ à¦¨à¦¿à¦¯à§à¦•à§à¦¤ à¦†à¦›à§‡:

${M}

ðŸ”´ à¦œà§‹à¦°à¦ªà§‚à¦°à§à¦¬à¦• à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à¦¤à§‡ à¦šà¦¾à¦¨?

(à¦à¦¤à§‡ à¦¸à¦•à¦² à¦¯à¦¾à¦¤à§à¦°à§€à¦° assignment à¦®à§à¦›à§‡ à¦¯à¦¾à¦¬à§‡)`))return S(t,!0)}else c({title:"à¦¤à§à¦°à§à¦Ÿï¿½ï¿½",description:u instanceof Error?u.message:"à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿ à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à¦¤à§‡ à¦¬à§à¦¯à¦°à§à¦¥",variant:"destructive"})}},I=async(t,r)=>{try{confirm(`à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿ: ${r}

à¦¨à¦¿à¦¯à§à¦•à§à¦¤ à¦¯à¦¾à¦¤à§à¦°à§€à¦¦à§‡à¦° à¦¤à¦¾à¦²à¦¿à¦•à¦¾ à¦¦à§‡à¦–à¦¤à§‡ à¦šà¦¾à¦¨?

(à¦¨à§‹à¦Ÿ: à¦à¦‡ à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿà§‡ à¦¯à¦¾à¦¤à§à¦°à§€ à¦¨à¦¿à¦¯à§à¦•à§à¦¤ à¦¥à¦¾à¦•à¦¾à¦° à¦•à¦¾à¦°à¦£à§‡ à¦à¦Ÿà¦¿ à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡ à¦¨à¦¾à¥¤ à¦ªà§à¦°à¦¥à¦®à§‡ à¦¯à¦¾à¦¤à§à¦°à§€à¦¦à§‡à¦° à¦…à¦¨à§à¦¯ à¦—à§à¦°à§à¦ªà§‡ à¦¸à¦°à¦¾à¦¨ à¦¬à¦¾ unassign à¦•à¦°à§à¦¨à¥¤)`)&&c({title:"à¦¤à¦¥à§à¦¯",description:"à¦¯à¦¾à¦¤à§à¦°à§€à¦¦à§‡à¦° à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦¤à¦¥à§à¦¯à§‡à¦° à¦œà¦¨à§à¦¯ Umrah Management à¦¸à§‡à¦•à¦¶à¦¨à§‡ à¦¯à¦¾à¦¨à¥¤"})}catch(a){console.error("Error viewing passengers:",a),c({title:"à¦¤à§à¦°à§à¦Ÿà¦¿",description:"à¦¯à¦¾à¦¤à§à¦°à§€à¦¦à§‡à¦° à¦¤à¦¥ï¿½ï¿½à¦¯ à¦²à§‹à¦¡ à¦•à¦°à¦¤à§‡ à¦¬à§à¦¯à¦°à§à¦¥",variant:"destructive"})}},A=async t=>{try{const r=document.getElementById(t?`group-${t}`:"umrah-groups-container");if(!r)return;const a=window.open("","_blank");if(!a)return;a.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Umrah Group Tickets - With Transport</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; }
            .group { margin-bottom: 30px; padding: 20px; border: 1px solid #ddd; }
            .group-title { font-size: 18px; font-weight: bold; margin-bottom: 15px; }
            .stats { display: flex; justify-content: space-between; margin-bottom: 15px; }
            .stat { text-align: center; }
            table { width: 100%; border-collapse: collapse; margin-top: 15px; }
            th, td { padding: 8px; border: 1px solid #ddd; text-align: left; }
            th { background-color: #f5f5f5; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Umrah Group Tickets</h1>
            <h2>With Transport</h2>
            <p>Generated on: ${new Date().toLocaleDateString()}</p>
          </div>
          ${r.innerHTML}
          <script>window.print(); window.close();<\/script>
        </body>
        </html>
      `),a.document.close()}catch{c({title:"Error",description:"Failed to export PDF",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full animate-glow animate-float",children:e.jsx(N,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"responsive-heading font-heading font-bold velvet-text",children:"Umrah Group Ticket Management"}),e.jsx("p",{className:"text-foreground/70 font-body",children:"à¦ªà§ƒà¦¥à¦• à¦“à¦®à¦°à¦¾ à¦—à§à¦°à§à¦ªà§‡à¦° à¦œà¦¨à§à¦¯ à¦Ÿà¦¿à¦•à§‡à¦Ÿ à¦•à§à¦°à¦¯à¦¼ à¦“ à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(o,{onClick:()=>A(),variant:"outline",size:"sm",className:"touch-target",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),e.jsx(P,{open:w,onOpenChange:x,children:e.jsx(ee,{asChild:!0,children:e.jsxs(o,{onClick:E,className:"velvet-button text-primary-foreground touch-target",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"New Group Purchase"]})})})]})]})}),e.jsxs("div",{className:"luxury-card border-0 p-4 bg-primary/5",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2 text-primary",children:[e.jsx(g,{className:"h-5 w-5"}),e.jsx("h2",{className:"text-lg font-heading font-bold",children:"à¦“à¦®à¦°à¦¾à¦¹ à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿ (à¦ªà¦°à¦¿à¦¬à¦¹à¦¨ à¦¸à¦¹)"})]})}),e.jsx("p",{className:"text-center text-sm text-muted-foreground mt-2 font-body",children:'à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿ à¦•à§à¦°à¦¯à¦¼ à¦¶à§à¦§à§à¦®à¦¾à¦¤à§à¦° "à¦ªà¦°à¦¿à¦¬à¦¹à¦¨ à¦¸à¦¹" à¦“à¦®à¦°à¦¾à¦¹ à¦ªà§à¦¯à¦¾à¦•à§‡à¦œà§‡à¦° à¦œà¦¨à§à¦¯ à¦ªà§à¦°à¦¯à§‹à¦œà§à¦¯'})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(n,{placeholder:"Search by group name or agent...",value:T,onChange:t=>U(t.target.value),className:"pl-10 font-body"})]}),e.jsxs(o,{onClick:_,variant:"outline",disabled:j,className:"touch-target",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Search"]})]}),e.jsx("div",{id:"umrah-groups-container",className:"space-y-6",children:j?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-6 w-6 animate-spin text-primary"}),e.jsx("span",{className:"font-body",children:"Loading group tickets..."})]})}):D.length>0?D.map((t,r)=>e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1,duration:.5},id:`group-${r}`,className:"space-y-4",children:e.jsxs(te,{className:"luxury-card border-0",children:[e.jsx(re,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs(ae,{className:"font-heading velvet-text flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),new Date(t.departure_date).toLocaleDateString(),e.jsx(V,{className:"h-4 w-4"}),new Date(t.return_date).toLocaleDateString()]}),e.jsx(se,{className:"font-body",children:"Transport à¦¸à¦¹ à¦“à¦®à¦°à¦¾ à¦ªà§à¦¯à¦¾à¦•à§‡à¦œ"})]}),e.jsxs(o,{onClick:()=>A(r.toString()),variant:"outline",size:"sm",className:"touch-target",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Print Group"]})]})}),e.jsxs(ie,{children:[e.jsxs("div",{className:"responsive-grid gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-2xl font-heading font-bold text-blue-700",children:t.group_count}),e.jsx("p",{className:"text-sm text-blue-600 font-body",children:"Groups"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-2xl font-heading font-bold text-green-700",children:t.total_tickets}),e.jsx("p",{className:"text-sm text-green-600 font-body",children:"Total Tickets"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-violet-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"text-2xl font-heading font-bold text-purple-700",children:["à§³",t.total_cost.toLocaleString()]}),e.jsx("p",{className:"text-sm text-purple-600 font-body",children:"Total Investment"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"text-2xl font-heading font-bold text-orange-700",children:["à§³",Math.round(t.total_cost/t.total_tickets).toLocaleString()]}),e.jsx("p",{className:"text-sm text-orange-600 font-body",children:"Avg. per Ticket"})]})]}),e.jsx("div",{className:"mobile-table-scroll",children:e.jsxs(ne,{children:[e.jsx(le,{children:e.jsxs(R,{children:[e.jsx(m,{children:"Group Name"}),e.jsx(m,{children:"Agent"}),e.jsx(m,{children:"Flight Details"}),e.jsx(m,{children:"Tickets"}),e.jsx(m,{children:"Total Cost"}),e.jsx(m,{children:"Avg Cost"}),e.jsx(m,{children:"Actions"})]})}),e.jsx(ce,{children:t.groups.map(a=>e.jsxs(R,{children:[e.jsx(h,{className:"font-medium",children:a.group_name}),e.jsx(h,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.agent_name}),a.agent_contact&&e.jsx("div",{className:"text-sm text-muted-foreground",children:a.agent_contact})]})}),e.jsx(h,{children:e.jsxs("div",{className:"text-sm",children:[a.departure_airline&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(g,{className:"h-3 w-3"}),a.departure_airline," ",a.departure_flight_number]}),a.return_airline&&e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(g,{className:"h-3 w-3 rotate-180"}),a.return_airline," ",a.return_flight_number]}),!a.departure_airline&&!a.return_airline&&e.jsx("span",{className:"text-muted-foreground",children:"No flight details"})]})}),e.jsx(h,{children:e.jsxs(oe,{variant:"secondary",children:[a.ticket_count," tickets"]})}),e.jsx(h,{children:e.jsxs("span",{className:"font-semibold text-green-600",children:["à§³",a.total_cost.toLocaleString()]})}),e.jsxs(h,{children:["à§³",a.average_cost_per_ticket.toLocaleString()]}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o,{onClick:()=>z(a),variant:"outline",size:"sm",className:"touch-target",children:e.jsx(Y,{className:"h-4 w-4"})}),a.ticket_count-a.remaining_tickets>0&&e.jsx(o,{onClick:()=>I(a.id,a.group_name),variant:"outline",size:"sm",className:"touch-target text-blue-600 hover:text-blue-700",title:`${a.ticket_count-a.remaining_tickets} à¦œà¦¨ à¦¯à¦¾à¦¤à§à¦°à§€ à¦¨à¦¿à¦¯à§à¦•à§à¦¤`,children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx(o,{onClick:()=>S(a.id),variant:"outline",size:"sm",className:"touch-target text-red-600 hover:text-red-700",disabled:a.ticket_count-a.remaining_tickets>0,title:a.ticket_count-a.remaining_tickets>0?"à¦¯à¦¾à¦¤à§à¦°à§€ à¦¨à¦¿à¦¯à§à¦•à§ï¿½ï¿½ à¦¥à¦¾à¦•à¦¾à¦¯à¦¼ à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡ à¦¨à¦¾":"à¦—à§à¦°à§à¦ª à¦Ÿà¦¿à¦•à§‡à¦Ÿ à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à§à¦¨",children:e.jsx(Q,{className:"h-4 w-4"})})]})})]},a.id))})]})})]})]})},`${t.departure_date}_${t.return_date}`)):e.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx(N,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-heading font-bold text-foreground mb-2",children:"No Group Tickets Found"}),e.jsxs("p",{className:"text-foreground/70 font-body mb-4",children:["Start by creating your first group ticket purchase for"," ","transport à¦¸à¦¹ Umrah packages."]}),e.jsxs(o,{onClick:()=>x(!0),className:"velvet-button text-primary-foreground",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Create First Group Purchase"]})]})}),e.jsx(P,{open:w,onOpenChange:x,children:e.jsxs(de,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ue,{children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),f?"Edit Group Ticket":"New Group Ticket Purchase"]}),e.jsx(he,{children:"Transport à¦¸à¦¹ à¦“à¦®à¦°à¦¾ à¦—à§à¦°à§à¦ªà§‡à¦° à¦œà¦¨à§à¦¯ à¦Ÿà¦¿à¦•à§‡à¦Ÿ à¦•à§à¦°à¦¯à¦¼"})]}),e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Group Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"groupName",children:"Group Name *"}),e.jsx(n,{id:"groupName",value:s.group_name,onChange:t=>i(r=>({...r,group_name:t.target.value})),placeholder:"e.g., Ramadan Group 2024",required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"agentName",children:"Agent Name *"}),e.jsx(n,{id:"agentName",value:s.agent_name,onChange:t=>i(r=>({...r,agent_name:t.target.value})),placeholder:"Agent or agency name",required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"departureDate",children:"Departure Date *"}),e.jsx(n,{id:"departureDate",type:"date",value:s.departure_date,onChange:t=>i(r=>({...r,departure_date:t.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"returnDate",children:"Return Date *"}),e.jsx(n,{id:"returnDate",type:"date",value:s.return_date,onChange:t=>i(r=>({...r,return_date:t.target.value})),required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Flight Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-blue-50/50",children:[e.jsxs("h4",{className:"font-medium text-blue-800 flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"}),"Departure Flight (à¦¯à¦¾à¦“à¦¯à¦¼à¦¾à¦° à¦«à§à¦²à¦¾à¦‡à¦Ÿ)"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"departureAirline",children:"Airline Name"}),e.jsx(n,{id:"departureAirline",value:s.departure_airline||"",onChange:t=>i(r=>({...r,departure_airline:t.target.value})),placeholder:"e.g., Biman Bangladesh"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"departureFlightNumber",children:"Flight Number"}),e.jsx(n,{id:"departureFlightNumber",value:s.departure_flight_number||"",onChange:t=>i(r=>({...r,departure_flight_number:t.target.value})),placeholder:"e.g., BG147"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"departureTime",children:"Departure Time"}),e.jsx(n,{id:"departureTime",type:"time",value:s.departure_time||"",onChange:t=>i(r=>({...r,departure_time:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"departureRoute",children:"Route"}),e.jsx(n,{id:"departureRoute",value:s.departure_route||"",onChange:t=>i(r=>({...r,departure_route:t.target.value})),placeholder:"e.g., DAC â†’ JED"})]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-green-50/50",children:[e.jsxs("h4",{className:"font-medium text-green-800 flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4 rotate-180"}),"Return Flight (à¦«à¦¿à¦°à¦¤à¦¿ à¦«à§à¦²à¦¾à¦‡à¦Ÿ)"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"returnAirline",children:"Airline Name"}),e.jsx(n,{id:"returnAirline",value:s.return_airline||"",onChange:t=>i(r=>({...r,return_airline:t.target.value})),placeholder:"e.g., Biman Bangladesh"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"returnFlightNumber",children:"Flight Number"}),e.jsx(n,{id:"returnFlightNumber",value:s.return_flight_number||"",onChange:t=>i(r=>({...r,return_flight_number:t.target.value})),placeholder:"e.g., BG148"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"returnTime",children:"Return Time"}),e.jsx(n,{id:"returnTime",type:"time",value:s.return_time||"",onChange:t=>i(r=>({...r,return_time:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"returnRoute",children:"Route"}),e.jsx(n,{id:"returnRoute",value:s.return_route||"",onChange:t=>i(r=>({...r,return_route:t.target.value})),placeholder:"e.g., JED â†’ DAC"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Financial Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"ticketCount",children:"Number of Tickets *"}),e.jsx(n,{id:"ticketCount",type:"number",min:"1",value:s.ticket_count,onChange:t=>i(r=>({...r,ticket_count:parseInt(t.target.value)||0})),placeholder:"e.g., 20",required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"totalCost",children:"Total Cost (à§³) *"}),e.jsx(n,{id:"totalCost",type:"number",min:"0",value:s.total_cost,onChange:t=>i(r=>({...r,total_cost:parseFloat(t.target.value)||0})),placeholder:"e.g., 500000",required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"avgCost",children:"Average Cost per Ticket (à§³)"}),e.jsx(n,{id:"avgCost",type:"number",value:s.average_cost_per_ticket,readOnly:!0,className:"bg-muted"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Additional Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"agentContact",children:"Agent Contact"}),e.jsx(n,{id:"agentContact",value:s.agent_contact||"",onChange:t=>i(r=>({...r,agent_contact:t.target.value})),placeholder:"Phone or email"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(l,{htmlFor:"purchaseNotes",children:"Purchase Notes"}),e.jsx(xe,{id:"purchaseNotes",value:s.purchase_notes||"",onChange:t=>i(r=>({...r,purchase_notes:t.target.value})),placeholder:"Additional notes about this purchase...",rows:3})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(o,{type:"submit",disabled:j,className:"velvet-button text-primary-foreground",children:j?"Saving...":f?"Update Group":"Create Group"})]})]})]})})]})}export{be as U};
