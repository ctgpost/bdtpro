import{r as h,j as e,Q as v,o as Q,U as X,bj as J,bd as Z,bk as ee,bf as _,bl as ve,aW as we,bm as z,aV as O,bn as se,n as ae,G as Ce,B as Se,bo as q,bp as Pe,bq as ne,s as ke,br as Fe,b5 as Ue,a_ as te}from"./chunk-BfPIZJcL.js";import{u as Ae,B as x,T as De,d as Te,e as U,f as A,C as u,g as j,h as y,i as R,c as f,L as n,I as r,S as C,j as S,k as P,l as k,m as c,n as Me,D as Ee,w as Be,x as Ye,y as Le,z as _e,A as ze,p as qe,q as Re,r as le,s as T,t as Ve,v as M,b as E,O as Ie,Q as He,R as We,U as Oe,V as $e,W as Ge,X as Ke,Y as Qe,Z as Xe,_ as F}from"./chunk-CnxcrpIl.js";import{a as B}from"./chunk-VjddRPxg.js";import{m as re}from"./chunk-DakqyWim.js";function ls(){const{user:g,hasPermission:N,updateUser:ce}=Ae(),[ie,oe]=h.useState("profile"),[de,$]=h.useState(!1),[m,d]=h.useState(!1),[o,w]=h.useState({name:g?.name||"",email:g?.email||"",phone:g?.phone||"",currentPassword:"",newPassword:"",confirmPassword:"",avatar:"",twoFactorEnabled:!1}),[t,l]=h.useState({companyName:"Your Travel Agency",companyEmail:"",companyPhone:"",companyAddress:"",companyWebsite:"",tradeLicense:"",defaultCurrency:"BDT",timezone:"Asia/Dhaka",language:"en",dateFormat:"DD/MM/YYYY",timeFormat:"24h",autoBackup:!0,backupFrequency:"daily",maxBackupFiles:30,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,bookingTimeout:24,sessionTimeout:120,maxLoginAttempts:5,passwordExpiry:90,twoFactorAuth:!1,maintenanceMode:!1,debugMode:!1}),[me,xe]=h.useState([]),[G,Je]=h.useState([]),[p,he]=h.useState(null),[ue,V]=h.useState(!1),[Ze,es]=h.useState(null),[D,je]=h.useState(!1),[i,b]=h.useState({username:"",name:"",email:"",phone:"",role:"staff",password:"",confirmPassword:""});h.useEffect(()=>{I()},[g]);const I=async()=>{$(!0),await Promise.all([ye(),N("manage_users")&&H()]),$(!1)},ye=async()=>{const s=await B.getSettings();if(s?.settings&&Array.isArray(s.settings)){const a=s.settings.reduce((L,K)=>(L[K.key]=K.value,L),{});l(L=>({...L,...a}))}},H=async()=>{const s=await B.getUsers();xe(Array.isArray(s)?s:[])},fe=async()=>{he({version:"1.0.0",uptime:"0d 0h 0m",memory_usage:"0 MB",cpu_usage:"0%",disk_usage:"0 MB",active_sessions:1,total_users:3,total_bookings:0,database_size:"0 MB",last_backup:"Never"})},Ne=async()=>{if(d(!0),o.newPassword){if(o.newPassword!==o.confirmPassword){alert("New passwords do not match!"),d(!1);return}if(o.newPassword.length<6){alert("Password must be at least 6 characters long!"),d(!1);return}}const s={name:o.name,email:o.email,phone:o.phone};o.newPassword&&(s.currentPassword=o.currentPassword,s.newPassword=o.newPassword),await B.updateUser(g.id,s),ce({name:o.name,email:o.email,phone:o.phone}),w(a=>({...a,currentPassword:"",newPassword:"",confirmPassword:""})),alert("Profile updated successfully!"),d(!1)},W=async()=>{d(!0),alert("System settings updated successfully!"),d(!1)},pe=async()=>{if(d(!0),!i.username||i.username.length<3){alert("Username is required and must be at least 3 characters!"),d(!1);return}if(!i.name||i.name.trim().length===0){alert("Full name is required!"),d(!1);return}if(!i.password||i.password.length<6){alert("Password is required and must be at least 6 characters!"),d(!1);return}if(i.password!==i.confirmPassword){alert("Passwords do not match!"),d(!1);return}try{await B.createUser({username:i.username,name:i.name,email:i.email||void 0,phone:i.phone||void 0,role:i.role,password:i.password}),b({username:"",name:"",email:"",phone:"",role:"staff",password:"",confirmPassword:""}),V(!1),alert("User created successfully!"),await I()}catch(s){console.error("Error creating user:",s),alert(s instanceof Error?s.message:"Failed to create user. Please try again.")}finally{d(!1)}await H(),alert("User created successfully!"),d(!1)},ge=async s=>{if(s===g?.id){alert("You cannot delete your own account!");return}await B.deleteUser(s),await H(),alert("User deleted successfully!")},Y=async s=>{d(!0),alert(`Data exported successfully as ${s.toUpperCase()}!`),d(!1)},be=async()=>{d(!0),await fe(),alert("Database backup created successfully!"),d(!1)};return de?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-6 w-6 animate-spin text-primary"}),e.jsx("span",{className:"font-body text-foreground",children:"Loading settings..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-luxury-gold to-luxury-bronze rounded-full animate-glow animate-float",children:e.jsx(Q,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-heading font-bold velvet-text",children:"System Settings"}),e.jsx("p",{className:"text-foreground/70 font-body",children:"Manage system configuration and preferences"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(x,{onClick:I,variant:"outline",size:"sm",className:"font-body hover:scale-105 transform transition-all duration-200",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]})}),e.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:e.jsxs(De,{value:ie,onValueChange:oe,className:"space-y-6",children:[e.jsxs(Te,{className:"grid w-full grid-cols-6 luxury-card border-0",children:[e.jsxs(U,{value:"profile",className:"font-body",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Profile"]}),e.jsxs(U,{value:"company",className:"font-body",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Company"]}),N("manage_users")&&e.jsxs(U,{value:"users",className:"font-body",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Users"]}),N("system_settings")&&e.jsxs(U,{value:"system",className:"font-body",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"System"]}),e.jsxs(U,{value:"security",className:"font-body",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Security"]}),N("system_settings")&&e.jsxs(U,{value:"monitoring",className:"font-body",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Monitor"]})]}),e.jsx(A,{value:"profile",className:"space-y-6",children:e.jsxs(u,{className:"luxury-card border-0",children:[e.jsxs(j,{children:[e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(X,{className:"h-5 w-5 mr-2"}),"User Profile"]}),e.jsx(R,{className:"font-body",children:"Manage your personal information and account settings"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",className:"font-body",children:"Full Name"}),e.jsx(r,{id:"name",value:o.name,onChange:s=>w(a=>({...a,name:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",className:"font-body",children:"Email Address"}),e.jsx(r,{id:"email",type:"email",value:o.email,onChange:s=>w(a=>({...a,email:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"phone",className:"font-body",children:"Phone Number"}),e.jsx(r,{id:"phone",value:o.phone,onChange:s=>w(a=>({...a,phone:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"role",className:"font-body",children:"Role"}),e.jsx(r,{id:"role",value:g?.role,disabled:!0,className:"font-body bg-muted"})]})]}),e.jsxs("div",{className:"border-t pt-6 space-y-4",children:[e.jsx("h3",{className:"font-heading font-semibold velvet-text",children:"Change Password"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"currentPassword",className:"font-body",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(r,{id:"currentPassword",type:D?"text":"password",value:o.currentPassword,onChange:s=>w(a=>({...a,currentPassword:s.target.value})),className:"font-body"}),e.jsx(x,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>je(!D),children:D?e.jsx(ve,{className:"h-4 w-4"}):e.jsx(we,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newPassword",className:"font-body",children:"New Password"}),e.jsx(r,{id:"newPassword",type:D?"text":"password",value:o.newPassword,onChange:s=>w(a=>({...a,newPassword:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"confirmPassword",className:"font-body",children:"Confirm Password"}),e.jsx(r,{id:"confirmPassword",type:D?"text":"password",value:o.confirmPassword,onChange:s=>w(a=>({...a,confirmPassword:s.target.value})),className:"font-body"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{onClick:Ne,disabled:m,className:"velvet-button text-primary-foreground font-body",children:[m?e.jsx(v,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(z,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})}),e.jsx(A,{value:"company",className:"space-y-6",children:e.jsxs(u,{className:"luxury-card border-0",children:[e.jsxs(j,{children:[e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(J,{className:"h-5 w-5 mr-2"}),"Company Information"]}),e.jsx(R,{className:"font-body",children:"Manage your company details and business information"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"companyName",className:"font-body",children:"Company Name"}),e.jsx(r,{id:"companyName",value:t.companyName,onChange:s=>l(a=>({...a,companyName:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"companyEmail",className:"font-body",children:"Company Email"}),e.jsx(r,{id:"companyEmail",type:"email",value:t.companyEmail,onChange:s=>l(a=>({...a,companyEmail:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"companyPhone",className:"font-body",children:"Company Phone"}),e.jsx(r,{id:"companyPhone",value:t.companyPhone,onChange:s=>l(a=>({...a,companyPhone:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"companyWebsite",className:"font-body",children:"Website"}),e.jsx(r,{id:"companyWebsite",value:t.companyWebsite,onChange:s=>l(a=>({...a,companyWebsite:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"tradeLicense",className:"font-body",children:"Trade License"}),e.jsx(r,{id:"tradeLicense",value:t.tradeLicense,onChange:s=>l(a=>({...a,tradeLicense:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"defaultCurrency",className:"font-body",children:"Default Currency"}),e.jsxs(C,{value:t.defaultCurrency,onValueChange:s=>l(a=>({...a,defaultCurrency:s})),children:[e.jsx(S,{className:"font-body",children:e.jsx(P,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"BDT",children:"BDT - Bangladeshi Taka"}),e.jsx(c,{value:"USD",children:"USD - US Dollar"}),e.jsx(c,{value:"EUR",children:"EUR - Euro"}),e.jsx(c,{value:"GBP",children:"GBP - British Pound"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"companyAddress",className:"font-body",children:"Company Address"}),e.jsx(Me,{id:"companyAddress",value:t.companyAddress,onChange:s=>l(a=>({...a,companyAddress:s.target.value})),className:"font-body",rows:3})]}),N("system_settings")&&e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{onClick:W,disabled:m,className:"velvet-button text-primary-foreground font-body",children:[m?e.jsx(v,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(z,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})}),N("manage_users")&&e.jsx(A,{value:"users",className:"space-y-6",children:e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(Z,{className:"h-5 w-5 mr-2"}),"User Management"]}),e.jsx(R,{className:"font-body",children:"Manage system users and their permissions"})]}),e.jsxs(Ee,{open:ue,onOpenChange:V,children:[e.jsx(Be,{asChild:!0,children:e.jsxs(x,{className:"velvet-button text-primary-foreground font-body",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Add User"]})}),e.jsxs(Ye,{className:"max-w-md",children:[e.jsxs(Le,{children:[e.jsx(_e,{className:"font-heading",children:"Add New User"}),e.jsx(ze,{className:"font-body",children:"Create a new user account with appropriate permissions"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newUsername",className:"font-body",children:"Username *"}),e.jsx(r,{id:"newUsername",value:i.username,onChange:s=>b(a=>({...a,username:s.target.value})),className:"font-body",placeholder:"Enter username (min 3 characters)",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newUserName",className:"font-body",children:"Full Name *"}),e.jsx(r,{id:"newUserName",value:i.name,onChange:s=>b(a=>({...a,name:s.target.value})),className:"font-body",placeholder:"Enter full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newUserEmail",className:"font-body",children:"Email"}),e.jsx(r,{id:"newUserEmail",type:"email",value:i.email,onChange:s=>b(a=>({...a,email:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newUserPhone",className:"font-body",children:"Phone"}),e.jsx(r,{id:"newUserPhone",value:i.phone,onChange:s=>b(a=>({...a,phone:s.target.value})),className:"font-body"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newUserRole",className:"font-body",children:"Role"}),e.jsxs(C,{value:i.role,onValueChange:s=>b(a=>({...a,role:s})),children:[e.jsx(S,{className:"font-body",children:e.jsx(P,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"staff",children:"Staff"}),e.jsx(c,{value:"manager",children:"Manager"}),N("manage_users")&&e.jsx(c,{value:"admin",children:"Admin"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newUserPassword",className:"font-body",children:"Password *"}),e.jsx(r,{id:"newUserPassword",type:"password",value:i.password,onChange:s=>b(a=>({...a,password:s.target.value})),className:"font-body",placeholder:"Enter password (min 6 characters)",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"newUserConfirmPassword",className:"font-body",children:"Confirm Password *"}),e.jsx(r,{id:"newUserConfirmPassword",type:"password",value:i.confirmPassword,onChange:s=>b(a=>({...a,confirmPassword:s.target.value})),className:"font-body",placeholder:"Confirm your password",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(x,{variant:"outline",onClick:()=>V(!1),className:"font-body",children:"Cancel"}),e.jsxs(x,{onClick:pe,disabled:m,className:"velvet-button text-primary-foreground font-body",children:[m?e.jsx(v,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(O,{className:"h-4 w-4 mr-2"}),"Create User"]})]})]})]})]})]})}),e.jsx(f,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(qe,{children:[e.jsx(Re,{children:e.jsxs(le,{children:[e.jsx(T,{className:"font-heading",children:"User"}),e.jsx(T,{className:"font-heading",children:"Role"}),e.jsx(T,{className:"font-heading",children:"Status"}),e.jsx(T,{className:"font-heading",children:"Last Login"}),e.jsx(T,{className:"font-heading",children:"Actions"})]})}),e.jsx(Ve,{children:me.map(s=>e.jsxs(le,{children:[e.jsx(M,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium font-body",children:s.name}),e.jsx("div",{className:"text-sm text-foreground/60 font-body",children:s.email}),e.jsx("div",{className:"text-xs text-foreground/50 font-body",children:s.phone})]})}),e.jsx(M,{children:e.jsx(E,{className:`${s.role==="admin"?"bg-red-100 text-red-800":s.role==="manager"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"} font-body capitalize`,children:s.role})}),e.jsx(M,{children:e.jsx(E,{className:`${s.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"} font-body`,children:s.status})}),e.jsx(M,{className:"font-body text-sm",children:s.lastLogin?new Date(s.lastLogin).toLocaleDateString():"Never"}),e.jsx(M,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{variant:"ghost",size:"sm",className:"font-body",children:e.jsx(se,{className:"h-4 w-4"})}),s.id!==g?.id&&e.jsxs(Ie,{children:[e.jsx(He,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",children:e.jsx(ae,{className:"h-4 w-4"})})}),e.jsxs(We,{children:[e.jsxs(Oe,{children:[e.jsx($e,{className:"font-heading",children:"Delete User"}),e.jsx(Ge,{className:"font-body",children:"Are you sure you want to delete this user? This action cannot be undone."})]}),e.jsxs(Ke,{children:[e.jsx(Qe,{className:"font-body",children:"Cancel"}),e.jsx(Xe,{onClick:()=>ge(s.id),className:"bg-red-600 hover:bg-red-700 font-body",children:"Delete"})]})]})]})]})})]},s.id))})]})})})]})}),N("system_settings")&&e.jsxs(A,{value:"system",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),"Localization"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"timezone",className:"font-body",children:"Timezone"}),e.jsxs(C,{value:t.timezone,onValueChange:s=>l(a=>({...a,timezone:s})),children:[e.jsx(S,{className:"font-body",children:e.jsx(P,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"Asia/Dhaka",children:"Asia/Dhaka (UTC+6)"}),e.jsx(c,{value:"Asia/Karachi",children:"Asia/Karachi (UTC+5)"}),e.jsx(c,{value:"Asia/Dubai",children:"Asia/Dubai (UTC+4)"}),e.jsx(c,{value:"UTC",children:"UTC (UTC+0)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"language",className:"font-body",children:"Language"}),e.jsxs(C,{value:t.language,onValueChange:s=>l(a=>({...a,language:s})),children:[e.jsx(S,{className:"font-body",children:e.jsx(P,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"en",children:"English"}),e.jsx(c,{value:"bn",children:"বাংলা"}),e.jsx(c,{value:"ar",children:"العربية"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"dateFormat",className:"font-body",children:"Date Format"}),e.jsxs(C,{value:t.dateFormat,onValueChange:s=>l(a=>({...a,dateFormat:s})),children:[e.jsx(S,{className:"font-body",children:e.jsx(P,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx(c,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx(c,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"timeFormat",className:"font-body",children:"Time Format"}),e.jsxs(C,{value:t.timeFormat,onValueChange:s=>l(a=>({...a,timeFormat:s})),children:[e.jsx(S,{className:"font-body",children:e.jsx(P,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"24h",children:"24 Hour"}),e.jsx(c,{value:"12h",children:"12 Hour"})]})]})]})]})]}),e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 mr-2"}),"Notifications"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-body",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-foreground/60 font-body",children:"Send notifications via email"})]}),e.jsx(F,{checked:t.emailNotifications,onCheckedChange:s=>l(a=>({...a,emailNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-body",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-foreground/60 font-body",children:"Send notifications via SMS"})]}),e.jsx(F,{checked:t.smsNotifications,onCheckedChange:s=>l(a=>({...a,smsNotifications:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-body",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-foreground/60 font-body",children:"Send browser push notifications"})]}),e.jsx(F,{checked:t.pushNotifications,onCheckedChange:s=>l(a=>({...a,pushNotifications:s}))})]})]})]}),e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),"Backup & Storage"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-body",children:"Auto Backup"}),e.jsx("p",{className:"text-sm text-foreground/60 font-body",children:"Automatically create database backups"})]}),e.jsx(F,{checked:t.autoBackup,onCheckedChange:s=>l(a=>({...a,autoBackup:s}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"backupFrequency",className:"font-body",children:"Backup Frequency"}),e.jsxs(C,{value:t.backupFrequency,onValueChange:s=>l(a=>({...a,backupFrequency:s})),children:[e.jsx(S,{className:"font-body",children:e.jsx(P,{})}),e.jsxs(k,{children:[e.jsx(c,{value:"hourly",children:"Hourly"}),e.jsx(c,{value:"daily",children:"Daily"}),e.jsx(c,{value:"weekly",children:"Weekly"}),e.jsx(c,{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"maxBackupFiles",className:"font-body",children:"Max Backup Files"}),e.jsx(r,{id:"maxBackupFiles",type:"number",value:t.maxBackupFiles,onChange:s=>l(a=>({...a,maxBackupFiles:parseInt(s.target.value)})),className:"font-body",min:"1",max:"100"})]}),e.jsxs(x,{onClick:be,disabled:m,className:"w-full velvet-button text-primary-foreground font-body",children:[m?e.jsx(v,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(q,{className:"h-4 w-4 mr-2"}),"Create Backup Now"]})]})]}),e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),"Business Rules"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"bookingTimeout",className:"font-body",children:"Booking Timeout (hours)"}),e.jsx(r,{id:"bookingTimeout",type:"number",value:t.bookingTimeout,onChange:s=>l(a=>({...a,bookingTimeout:parseInt(s.target.value)})),className:"font-body",min:"1",max:"72"}),e.jsx("p",{className:"text-xs text-foreground/60 font-body",children:"How long tickets stay locked for pending bookings"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"sessionTimeout",className:"font-body",children:"Session Timeout (minutes)"}),e.jsx(r,{id:"sessionTimeout",type:"number",value:t.sessionTimeout,onChange:s=>l(a=>({...a,sessionTimeout:parseInt(s.target.value)})),className:"font-body",min:"15",max:"480"}),e.jsx("p",{className:"text-xs text-foreground/60 font-body",children:"How long users can stay logged in without activity"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{onClick:W,disabled:m,className:"velvet-button text-primary-foreground font-body",children:[m?e.jsx(v,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(z,{className:"h-4 w-4 mr-2"}),"Save System Settings"]})})]}),e.jsxs(A,{value:"security",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(ee,{className:"h-5 w-5 mr-2"}),"Security Settings"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"maxLoginAttempts",className:"font-body",children:"Max Login Attempts"}),e.jsx(r,{id:"maxLoginAttempts",type:"number",value:t.maxLoginAttempts,onChange:s=>l(a=>({...a,maxLoginAttempts:parseInt(s.target.value)})),className:"font-body",min:"3",max:"10"}),e.jsx("p",{className:"text-xs text-foreground/60 font-body",children:"Number of failed attempts before account lockout"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"passwordExpiry",className:"font-body",children:"Password Expiry (days)"}),e.jsx(r,{id:"passwordExpiry",type:"number",value:t.passwordExpiry,onChange:s=>l(a=>({...a,passwordExpiry:parseInt(s.target.value)})),className:"font-body",min:"30",max:"365"}),e.jsx("p",{className:"text-xs text-foreground/60 font-body",children:"How often users must change passwords"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-body",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-foreground/60 font-body",children:"Require 2FA for all users"})]}),e.jsx(F,{checked:t.twoFactorAuth,onCheckedChange:s=>l(a=>({...a,twoFactorAuth:s}))})]})]})]}),e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(ne,{className:"h-5 w-5 mr-2"}),"System Control"]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-body",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-foreground/60 font-body",children:"Put system in maintenance mode"})]}),e.jsx(F,{checked:t.maintenanceMode,onCheckedChange:s=>l(a=>({...a,maintenanceMode:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{className:"font-body",children:"Debug Mode"}),e.jsx("p",{className:"text-sm text-foreground/60 font-body",children:"Enable detailed error logging"})]}),e.jsx(F,{checked:t.debugMode,onCheckedChange:s=>l(a=>({...a,debugMode:s}))})]}),t.maintenanceMode&&e.jsxs("div",{className:"p-3 bg-yellow-100 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 text-yellow-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800 font-body",children:"Maintenance mode is active"})]}),e.jsx("p",{className:"text-xs text-yellow-700 font-body mt-1",children:"Only administrators can access the system"})]})]})]})]}),N("system_settings")&&e.jsx("div",{className:"flex justify-end",children:e.jsxs(x,{onClick:W,disabled:m,className:"velvet-button text-primary-foreground font-body",children:[m?e.jsx(v,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(z,{className:"h-4 w-4 mr-2"}),"Save Security Settings"]})})]}),N("system_settings")&&e.jsxs(A,{value:"monitoring",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(Fe,{className:"h-5 w-5 mr-2"}),"System Information"]})}),e.jsx(f,{children:p?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-body text-sm",children:"Version"}),e.jsx(E,{className:"font-body",children:p.version})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-body text-sm",children:"Uptime"}),e.jsx("span",{className:"font-body text-sm text-foreground/70",children:p.uptime})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-body text-sm",children:"Memory Usage"}),e.jsx("span",{className:"font-body text-sm text-foreground/70",children:p.memory_usage})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-body text-sm",children:"CPU Usage"}),e.jsx("span",{className:"font-body text-sm text-foreground/70",children:p.cpu_usage})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-body text-sm",children:"Disk Usage"}),e.jsx("span",{className:"font-body text-sm text-foreground/70",children:p.disk_usage})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-body text-sm",children:"Active Sessions"}),e.jsx(E,{className:"bg-green-100 text-green-800 font-body",children:p.active_sessions})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-body text-sm",children:"Database Size"}),e.jsx("span",{className:"font-body text-sm text-foreground/70",children:p.database_size})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-body text-sm",children:"Last Backup"}),e.jsx("span",{className:"font-body text-sm text-foreground/70",children:p.last_backup})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(ne,{className:"h-8 w-8 text-foreground/30 mx-auto mb-2"}),e.jsx("p",{className:"font-body text-sm text-foreground/60",children:"System information not available"})]})})]}),e.jsxs(u,{className:"luxury-card border-0",children:[e.jsx(j,{children:e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Data Export"]})}),e.jsx(f,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(x,{onClick:()=>Y("csv"),disabled:m,variant:"outline",className:"font-body hover:scale-105 transform transition-all duration-200 p-6 h-auto",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(te,{className:"h-6 w-6"}),e.jsx("span",{children:"Export CSV"}),e.jsx("span",{className:"text-xs opacity-80",children:"Spreadsheet Format"})]})}),e.jsx(x,{onClick:()=>Y("json"),disabled:m,variant:"outline",className:"font-body hover:scale-105 transform transition-all duration-200 p-6 h-auto",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(q,{className:"h-6 w-6"}),e.jsx("span",{children:"Export JSON"}),e.jsx("span",{className:"text-xs opacity-80",children:"Database Format"})]})}),e.jsx(x,{onClick:()=>Y("pdf"),disabled:m,variant:"outline",className:"font-body hover:scale-105 transform transition-all duration-200 p-6 h-auto",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(te,{className:"h-6 w-6"}),e.jsx("span",{children:"Export PDF"}),e.jsx("span",{className:"text-xs opacity-80",children:"Report Format"})]})}),e.jsx(x,{onClick:()=>Y("xml"),disabled:m,variant:"outline",className:"font-body hover:scale-105 transform transition-all duration-200 p-6 h-auto",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(q,{className:"h-6 w-6"}),e.jsx("span",{children:"Export XML"}),e.jsx("span",{className:"text-xs opacity-80",children:"Structured Data"})]})})]})})]})]}),e.jsxs(u,{className:"luxury-card border-0",children:[e.jsxs(j,{children:[e.jsxs(y,{className:"font-heading velvet-text flex items-center",children:[e.jsx(_,{className:"h-5 w-5 mr-2"}),"Recent Activity"]}),e.jsx(R,{className:"font-body",children:"System activity and user actions log"})]}),e.jsx(f,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:G.length>0?G.map((s,a)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-gradient-to-r from-cream-100/50 to-transparent rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:`${s.action.includes("create")||s.action.includes("add")?"bg-green-100 text-green-800":s.action.includes("update")||s.action.includes("edit")?"bg-blue-100 text-blue-800":s.action.includes("delete")||s.action.includes("remove")?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"} text-xs font-body`,children:s.action.replace(/_/g," ")}),e.jsx("span",{className:"font-body font-medium text-sm capitalize",children:s.entity_type})]}),e.jsxs("p",{className:"font-body text-xs text-foreground/60 mt-1",children:["By: ",s.user_name," •"," ",new Date(s.created_at).toLocaleString()]}),s.details&&e.jsx("p",{className:"font-body text-xs text-foreground/50 mt-1 line-clamp-2",children:s.details})]}),e.jsx("div",{className:"flex items-center text-foreground/40",children:s.action.includes("create")?e.jsx(O,{className:"h-4 w-4"}):s.action.includes("update")?e.jsx(se,{className:"h-4 w-4"}):s.action.includes("delete")?e.jsx(ae,{className:"h-4 w-4"}):e.jsx(_,{className:"h-4 w-4"})})]},a)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(_,{className:"h-8 w-8 text-foreground/30 mx-auto mb-2"}),e.jsx("p",{className:"font-body text-sm text-foreground/60",children:"No recent activity found"})]})})})]})]})]})})]})}export{ls as S};
